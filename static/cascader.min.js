(function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Cascader=b():a.Cascader=b()})(this,function(){function a(i,j,k){if(i.addEventListener)i.addEventListener(j,k,!1);else{var l=k;i.attachEvent("on"+j,k=function(){l.call(i,window.event)})}return k}function b(i,j){return(i[j]||{}).children||[]}function c(i,j){var k=-1;return j&&(j=new RegExp(j),k=i.findIndex(function(l){return j.test(l.label)||j.test(l.value)})),{index:k,children:b(i,k)}}function d(i){var j=0,k=[];for(j;j<i.length;j++)k.push(i[j]);return k}function e(i){return i instanceof Array?i:1===i.nodeType?[i]:d(i)}function f(i,j,k,l){i.length=0,i.__datalist__=j,l=[{label:l||"\u8BF7\u9009\u62E9"}],l.concat(j).forEach(function(m){i.add(new Option(m.label,m.value))}),i.selectedIndex=k+1}function g(i,j,k){a(i,"change",function(){var l=b(this.__datalist__,this.selectedIndex-1);j.forEach(function(m,n){f(m,l,-1,k[n]),l=[]})})}function h(i){var j=i.initValue||[],k=this.elements=e(i.elements),l=this.placeholder=i.placeholder||[];this.data=i.data,this.setValue(j),k.forEach(function(m,n){++n<k.length&&g(m,k.slice(n),l.slice(n))})}return h.prototype.setData=function(i){this.data=i,this.setValue([])},h.prototype.setValue=function(i){var j=this.placeholder,k=this.data;this.elements.forEach(function(l,m){var n=c(k,i[m]);f(l,k,n.index,j[m]),k=n.children})},h.prototype.getValue=function(){var i=[],j=[],k=[];return this.elements.forEach(function(l){var m=l.selectedIndex-1,n=l.__datalist__[m]||{};k.push(m),i.push(n.value),j.push(n.label)}),{value:i,label:j,index:k}},h});
